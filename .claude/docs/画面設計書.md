# ランダム散歩アプリ 画面設計書

## 1. 画面概要

### 1.1 基本方針
- シンプルな1画面構成
- ポップでおしゃれな雰囲気
- スマートフォンファーストデザイン
- 直感的で迷わない操作性

### 1.2 デザインコンセプト
- カラフルで明るい配色
- 大きく見やすいフォント
- 楽しさを感じるアニメーション
- ミニマルで洗練されたレイアウト

## 2. 画面状態遷移

### 2.1 状態遷移図
```
[初期状態]
    ↓ ボタンタップ
[ルーレット演出中]
    ↓ 2〜3秒後
[結果表示状態]
    ↓ 「もう一度」ボタンタップ
[ルーレット演出中]
    ↓
  （繰り返し）
```

## 3. 画面詳細設計

### 3.1 初期状態

#### レイアウト構成
```
┌─────────────────────┐
│                     │
│   [アプリタイトル]    │
│                     │
│                     │
│                     │
│   [説明テキスト]     │
│                     │
│                     │
│  ┌───────────────┐  │
│  │               │  │
│  │  散歩開始！    │  │
│  │               │  │
│  └───────────────┘  │
│                     │
│                     │
└─────────────────────┘
```

#### UI要素詳細

**アプリタイトル**
- テキスト: 「ランダム散歩」（仮）
- フォントサイズ: 32px (モバイル) / 48px (デスクトップ)
- フォントウェイト: Bold
- カラー: プライマリカラー
- 配置: 画面上部中央、上マージン 60px

**説明テキスト**
- テキスト: 「ボタンを押して、今日の散歩を始めよう！」
- フォントサイズ: 16px (モバイル) / 18px (デスクトップ)
- フォントウェイト: Regular
- カラー: グレー（#666）
- 配置: タイトル下、マージン 16px

**メインボタン**
- テキスト: 「散歩開始！」
- サイズ: 240px × 240px（円形）
- 背景: グラデーション（#FF6B9D → #FFA06B）
- テキストカラー: 白
- フォントサイズ: 24px
- フォントウェイト: Bold
- シャドウ: 0 8px 24px rgba(255, 107, 157, 0.4)
- ホバー効果: スケール1.05、シャドウ拡大
- 配置: 画面中央

### 3.2 ルーレット演出中

#### レイアウト構成
```
┌─────────────────────┐
│                     │
│   [アプリタイトル]    │
│                     │
│  ┌───────────────┐  │
│  │  どこで?      │  │
│  │  [近くの公園で] │ ← 高速切り替え
│  └───────────────┘  │
│                     │
│  ┌───────────────┐  │
│  │  なにをする?   │  │
│  │  [写真を撮る]  │  ← 高速切り替え
│  └───────────────┘  │
│                     │
│   [ルーレット中...]  │
│                     │
└─────────────────────┘
```

#### UI要素詳細

**ルーレット表示エリア**
- 2つのカード形式で表示
  - 上: 「どこで」
  - 下: 「なにをする」

**「どこで」カード**
- サイズ: 90%幅、最大400px
- 背景: 白
- ボーダー: 3px solid #FF6B9D
- 角丸: 16px
- パディング: 24px
- シャドウ: 0 4px 12px rgba(0, 0, 0, 0.1)

**ラベル「どこで?」**
- フォントサイズ: 14px
- カラー: #FF6B9D
- フォントウェイト: Bold
- 位置: カード上部

**切り替わるテキスト**
- フォントサイズ: 28px (モバイル) / 32px (デスクトップ)
- カラー: #333
- フォントウェイト: Bold
- アニメーション: フェードイン・フェードアウト
- 切り替え間隔: 50ms

**「なにをする」カード**
- サイズ: 90%幅、最大400px
- 背景: 白
- ボーダー: 3px solid #FFA06B
- 角丸: 16px
- パディング: 24px
- シャドウ: 0 4px 12px rgba(0, 0, 0, 0.1)
- マージン: 上から24px

**ラベル「なにをする?」**
- フォントサイズ: 14px
- カラー: #FFA06B
- フォントウェイト: Bold

**ステータステキスト**
- テキスト: 「ルーレット中...」
- フォントサイズ: 14px
- カラー: #999
- 配置: カード下部中央
- アニメーション: 点滅または回転アイコン

### 3.3 結果表示状態

#### レイアウト構成
```
┌─────────────────────┐
│                     │
│   今日の散歩は...   │
│                     │
│  ┌───────────────┐  │
│  │  どこで?      │  │
│  │  近くの公園で  │  │
│  └───────────────┘  │
│                     │
│  ┌───────────────┐  │
│  │  なにをする?   │  │
│  │  写真を撮る    │  │
│  └───────────────┘  │
│                     │
│ [もう一度生成する]   │
│                     │
└─────────────────────┘
```

#### UI要素詳細

**見出し**
- テキスト: 「今日の散歩は...」
- フォントサイズ: 24px
- カラー: #333
- フォントウェイト: Bold
- 配置: 上部中央
- アニメーション: フェードイン（結果確定時）

**結果カード**
- ルーレット中と同様のデザイン
- アニメーション: スケールアップ + バウンス（結果確定時）
- テキストは固定（切り替わらない）

**「もう一度生成する」ボタン**
- サイズ: 90%幅、最大300px、高さ56px
- 背景: グラデーション（#667EEA → #764BA2）
- テキストカラー: 白
- フォントサイズ: 18px
- フォントウェイト: Bold
- 角丸: 28px
- シャドウ: 0 4px 12px rgba(102, 126, 234, 0.4)
- ホバー効果: 明度増加
- 配置: カード下部、マージン 32px

## 4. カラーパレット

### 4.1 プライマリカラー
```
メインピンク: #FF6B9D
メインオレンジ: #FFA06B
メインパープル: #667EEA
メイングラデーション1: linear-gradient(135deg, #FF6B9D 0%, #FFA06B 100%)
メイングラデーション2: linear-gradient(135deg, #667EEA 0%, #764BA2 100%)
```

### 4.2 セカンダリカラー
```
テキストダーク: #333333
テキストグレー: #666666
テキストライト: #999999
背景: #FAFAFA
白: #FFFFFF
```

### 4.3 アクセントカラー
```
成功: #10B981
警告: #F59E0B
エラー: #EF4444
```

## 5. タイポグラフィ

### 5.1 フォントファミリー
```css
font-family:
  -apple-system,
  BlinkMacSystemFont,
  'Segoe UI',
  'Hiragino Sans',
  'Hiragino Kaku Gothic ProN',
  'Noto Sans JP',
  sans-serif;
```

### 5.2 フォントサイズスケール
```
見出し1: 32px (mobile) / 48px (desktop)
見出し2: 24px / 32px
見出し3: 20px / 24px
本文: 16px / 18px
キャプション: 14px / 14px
小: 12px / 12px
```

## 6. レスポンシブデザイン

### 6.1 ブレークポイント
```css
/* モバイル */
@media (max-width: 640px) {
  - パディング: 16px
  - フォントサイズ: 小
  - ボタンサイズ: 200px × 200px
}

/* タブレット */
@media (min-width: 641px) and (max-width: 1024px) {
  - パディング: 24px
  - フォントサイズ: 中
  - ボタンサイズ: 240px × 240px
}

/* デスクトップ */
@media (min-width: 1025px) {
  - 最大幅: 600px（中央配置）
  - パディング: 32px
  - フォントサイズ: 大
  - ボタンサイズ: 240px × 240px
}
```

### 6.2 タッチターゲット
- 最小サイズ: 44px × 44px（iOS推奨）
- ボタン間マージン: 最低16px

## 7. アニメーション仕様

### 7.1 ボタンホバー
```css
transition: all 0.3s ease;
transform: scale(1.05);
box-shadow: 0 12px 32px rgba(255, 107, 157, 0.5);
```

### 7.2 ルーレット切り替え
```css
animation: fadeInOut 0.1s ease-in-out;

@keyframes fadeInOut {
  0% { opacity: 0.5; }
  50% { opacity: 1; }
  100% { opacity: 0.5; }
}
```

### 7.3 結果表示
```css
animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);

@keyframes bounceIn {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
```

## 8. アクセシビリティ

### 8.1 WCAG 2.1準拠
- コントラスト比: 最低4.5:1（AA）
- フォーカスインジケーター: 明確に表示
- ARIAラベル: 適切に設定

### 8.2 セマンティックHTML
```html
<main>
  <h1>アプリタイトル</h1>
  <button aria-label="散歩を開始する">散歩開始！</button>
  <section aria-live="polite">
    <!-- 結果表示エリア -->
  </section>
</main>
```

### 8.3 キーボード操作
- Tab: フォーカス移動
- Enter/Space: ボタン実行
- フォーカス順序: 論理的な順番

## 9. ワイヤーフレーム詳細

### 9.1 モバイル版（375px幅想定）

#### 初期状態
```
┌───────────────────────────┐
│         padding 16px      │
│                           │
│    ランダム散歩            │ ← 32px bold
│                           │
│  ボタンを押して、今日の     │ ← 16px regular
│  散歩を始めよう！          │
│                           │
│                           │
│        ┌────────┐         │
│        │        │         │
│        │ 散歩   │         │ ← 200×200 円形
│        │ 開始！ │         │
│        │        │         │
│        └────────┘         │
│                           │
│                           │
│                           │
│                           │
└───────────────────────────┘
```

#### 結果表示
```
┌───────────────────────────┐
│         padding 16px      │
│                           │
│    今日の散歩は...         │ ← 24px bold
│                           │
│  ┌─────────────────────┐ │
│  │ どこで?             │ │
│  │                     │ │
│  │  近くの公園で        │ │ ← 28px bold
│  │                     │ │
│  └─────────────────────┘ │
│                           │
│  ┌─────────────────────┐ │
│  │ なにをする?          │ │
│  │                     │ │
│  │  写真を撮る          │ │ ← 28px bold
│  │                     │ │
│  └─────────────────────┘ │
│                           │
│  ┌─────────────────────┐ │
│  │ もう一度生成する     │ │ ← 56px高 ボタン
│  └─────────────────────┘ │
│                           │
└───────────────────────────┘
```

### 9.2 デスクトップ版（600px幅想定）
- 中央配置で最大幅600px
- 左右に余白を設ける
- フォントサイズとボタンサイズを拡大
- その他レイアウトは同様

## 10. インタラクション詳細

### 10.1 ボタン押下時
1. ボタンが軽く縮む（scale 0.95）
2. ハプティックフィードバック（スマホのみ）
3. ルーレット画面に遷移（フェード 0.3s）

### 10.2 ルーレット演出
1. 2つのカードが同時にフェードイン
2. テキストが50ms間隔で高速切り替え
3. 開始から2.5秒後に減速演出
4. 最終結果で停止
5. バウンスアニメーションで強調

### 10.3 結果からの再生成
1. 「もう一度」ボタン押下
2. 現在の結果がフェードアウト
3. ルーレット画面に遷移

## 11. エラーハンドリング

### 11.1 データ取得失敗時
```
┌───────────────────────────┐
│                           │
│     ⚠️                    │
│                           │
│  データの取得に失敗        │
│  しました                 │
│                           │
│  もう一度お試しください    │
│                           │
│  ┌─────────────────────┐ │
│  │ 再試行する           │ │
│  └─────────────────────┘ │
│                           │
└───────────────────────────┘
```

### 11.2 ローディング表示
- ルーレット演出中はボタンを無効化
- 連打防止のためdisabled状態を設定

## 12. デザインシステムコンポーネント（Tailwind CSS）

### 12.1 再利用可能なクラス
```css
/* ボタン基本 */
.btn-primary {
  @apply bg-gradient-to-br from-pink-500 to-orange-400
         text-white font-bold rounded-full
         shadow-lg hover:scale-105 transition-all
         duration-300;
}

/* カード */
.card {
  @apply bg-white rounded-2xl p-6
         shadow-md border-2;
}

/* カード（どこで） */
.card-location {
  @apply card border-pink-500;
}

/* カード（なにをする） */
.card-action {
  @apply card border-orange-400;
}
```

## 13. パフォーマンス最適化

### 13.1 画像最適化
- SVGアイコン使用（必要に応じて）
- next/imageコンポーネント活用

### 13.2 アニメーション最適化
- CSS transformとopacityのみ使用（GPU加速）
- will-changeプロパティの適切な使用

### 13.3 フォント最適化
- システムフォント優先
- Noto Sans JPはサブセット読み込み
